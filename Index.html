<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body> 
        <div class="keys">
            <div class="key" data-keys="65">
                <kbd class="Txt">
                    A
                </kbd>
                <span class="sound">CLAP</span>
            </div>
            <div class="key" data-keys="83">
                <kbd class="Txt">
                    S
                </kbd>
                <span class="sound">HIHAT</span>
            </div>
            <div class="key" data-keys="68">
                <kbd class="Txt">
                    D
                </kbd>
                <span class="sound">KICK</span>
            </div>
            <div class="key" data-keys="70">
                <kbd class="Txt">
                    F
                </kbd>
                <span class="sound">OPENHAT</span>
            </div>
            <div class="key" data-keys="71">
                <kbd class="Txt">
                    G
                </kbd>
                <span class="sound">BOOM</span>
            </div>
            <div class="key" data-keys="72">
                <kbd class="Txt">
                    H
                </kbd>
                <span class="sound">RIDE</span>
            </div>
            <div class="key" data-keys="74">
                <kbd class="Txt">
                    J
                </kbd>
                <span class="sound">SNARE</span>
            </div>
            <div class="key" data-keys="75">
                <kbd class="Txt">
                    K
                </kbd>
                <span class="sound">TOM</span>
            </div>
        </div>

<audio data-keys="65" src="sounds/Clap.wav"></audio>
<audio data-keys="83" src="sounds/Hihat.wav"></audio>
<audio data-keys="68" src="sounds/Kick.wav"></audio>
<audio data-keys="70" src="sounds/OpenHat.wav"></audio>
<audio data-keys="71" src="sounds/Boom.wav"></audio>
<audio data-keys="72" src="sounds/Ride.wav"></audio>
<audio data-keys="74" src="sounds/Snare.wav"></audio>
<audio data-keys="75" src="sounds/Tom.wav"></audio>

<script>
    function playsound(e) {
        const audio = document.querySelector(`audio[data-keys="${e.keyCode}"]`);
        const key   = document.querySelector(`.key[data-keys="${e.keyCode}"]`)
        if(!audio) return; // stop function from running
        audio.currentTime = 0
        audio.play() ;
        key.classList.add('playing');
    }
    function removeTransition(e) {
        if(e.propertyName !== 'transform') return ;
        console.log(e.propertyName)
        this.classList.remove('playing')
    }
    const keys = document.querySelectorAll('.key');
    keys.forEach(key => key.addEventListener('transitionend', removeTransition));
    window.addEventListener('keydown', playsound)
</script>
    
</body>
</html>